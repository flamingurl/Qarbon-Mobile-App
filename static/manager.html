<script>
    async function loadData() {
        const [tRes, wRes] = await Promise.all([fetch(`${API_URL}/tasks`), fetch(`${API_URL}/workers`)]);
        const tasks = await tRes.json();
        const workers = await wRes.json();
        
        // ... (Render Active Tasks logic here) ...

        document.getElementById('workersOverview').innerHTML = `
            <table class="worker-table">
                <thead>
                    <tr>
                        <th>Personnel Information</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>${workers.map(w => {
                    // Create the formatted date string for the second line
                    const shiftEntries = Object.entries(w.shifts).map(([date, type]) => {
                        const [year, month, day] = date.split('-');
                        const shiftLabel = type === 1 ? 'Morning' : 'Evening';
                        return `${month}/${day} ${shiftLabel}`;
                    }).join(', ');

                    return `
                    <tr>
                        <td style="padding: 15px;">
                            <div style="font-weight: 800; color: #0f172a; font-size: 1.1rem;">
                                ${w.name} â€” <span style="font-weight: 400; color: #64748b;">${w.job_title}</span>
                            </div>
                            <div style="margin-top: 5px; font-size: 0.85rem; color: #3b82f6; font-family: monospace;">
                                <b>DATES WORKING:</b> ${shiftEntries || 'No shifts scheduled'}
                            </div>
                        </td>
                        <td>
                            <button onclick="openEditModal('${w.name}', ${JSON.stringify(w.shifts)})" class="btn-self">Edit Schedule</button>
                            <button onclick="deleteItem('worker', '${w.name}')" class="btn-del">Remove</button>
                        </td>
                    </tr>`;
                }).join('')}
                </tbody>
            </table>`;
            
        // ... (Render Archive logic here) ...
    }
</script>
